## A. Flow-of-funds Analysis


### Data structure

1. how to calculate the flow of funds amount from (generic) branch X to (generic) branch Y:

Table 1.

| bill type    | specifics             | amounts | calculations                                                    |
|--------------|-----------------------|---------|-----------------------------------------------------------------|
| bills sold   | bills of exchange     |       $a$ | $(c + d) - (a + b)$                                               |
|              | telegraphic transfers |       $b$ | amount of interest bills $(d)$                                    |
| bills bought | bills of exchange     |       $c$ | $((c + d) - (a + b)) + d$                                         |
|              | telegraphic transfers |       $d$ | conversions of $(((c + d) - (a + b)) + d)$ into Japanese yen (JPY)|

#### Notes:

> * the above formula `(c + d) - (a + b)` is the standard formula for calculating the flow-of-funds from one branch to another. If you need to understand why `bills sold` need to be subtracted from `bills bought`, consider the following:
>> `bills bought` is the category signifying a positive transfer of funds, as branch X, after buying a bill from an exporter (and thus: paying out an amount of money) in the country of X, sends it on to branch Y, which books it as a `bill for collection` (*daikin toritate tegata* 代金取立手形). At maturity, branch Y collects the money as ‘adverse exchange’ (*gyaku kawase* 逆為替 or, alternatively, *toritate kawase* 取立為替) from an importer in the country in which Y is located, and books the bill to its asset side as a `bill collected`. *In the case of export bills, money thus follows, or in other words, has the same direction of, the goods*. 
In the case of `bills sold`, however, the direction of the transfer is reversed. Branch X sells a bill to an importer of country X (so the latter can remit his payment to an exporter in country Y), and receives an amount of domestic currency for the latter. Branch Y deals with the bill as a `bill payable`, as it will be in charge of the pay-out into to the account of the exporter in the country of Y. Clearly, the latter operation implies a *transfer of funds from branch Y to branch X, or, in other words, a ‘negative transfer’*.
> * the `amount of interest bills (d)` is optional, i.e. is typically zero for flows among most branches, and this for a good reason: typically, interest bills were only sent from liquid centers to liquidity-poor peripheral markets, and this (mostly, but not exclusively) because of their role as finance  bills rather than as bills that contained an underlying trade ('real') transaction. Put simply, they are a function of the degree of the *interest differential* between those branches. One typically finds them as sent from London or New York to Yokohama, Kobe (to a lesser degree), and Shanghai. Especially at times when money was plenty in the global centers and, therefore, when interest rates were low, bankers were eager to draw finance bills on peripheral markets; when credit conditions were more difficult, these operations were cut back. Unfortunately, data and literature on short term capital flows are scarce. Bloomfield (1963) was one of the first to draw attention to the procyclicality of these flows, but much research remains to be done.
> * `((c + d) - (a + b)) + d` speaks for itself: it is the extended version of the above noted formula `(c + d) - (a + b)`, in that it adds interest bills as contracts signifying yet another *positive* flow of funds from branch X to branch Y.
> * the value for the formula `conversions of (((c + d) - (a+ b)) + d) into Japanese yen (JPY)` is important, as it will be used and compared with the value of funds sent from branch Y to branch X; the difference between the two determines the relative exchange position of the branches *vis-a-vis* each other.
>> Sources:
>> * Bloomfield, Arthur I. 1963. *Short-Term Capital Movements under the Pre-1914 Gold Standard*. Princeton Studies in International Finance, no. 11. Princeton, N.J: International Finance Section, Dept. of Economics, Princeton University.


2. Consequently, an adjacency matrix for a a generic branch network with branches X,Y,Z at a point in time `t1` looks as follows:

Table 2.

|   | X  |     |       |   | Y  |     |        |   | Z  |     |      |   |
|---|----|-----|-------|---|----|-----|--------|---|----|-----|------|---|
| **X** | BS | b/e |    -   |  - | BS | b/e | a      |   | BS | b/e | a’   |   |
|   |    | TT  |   -    |  - |    | TT  | b      |   |    | TT  | b’   |   |
|   | BB | b/e |   -   |  - | BB | b/e | c      |   | BB | b/e | c’   |   |
|   |    | TT  |   -   |  - |    | TT  | d      |   |    | TT  | d’   |   |
| **Y** | BS | b/e | a’’   |   | BS | b/e |    -    |  - | BS | b/e | a’’’ |   |
|   |    | TT  | b’’   |   |    | TT  |    -    |  - |    | TT  | b’’’ |   |
|   | BB | b/e | c’’   |   | BB | b/e |    -   |  - | BB | b/e | c’’’ |   |
|   |    | TT  | d’’   |   |    | TT  |    -    |  - |    | TT  | d’’’ |   |
| **Z** | BS | b/e | a’’’’ |   | BS | b/e | a’’’’’ |   | BS | b/e |   -   |  - |
|   |    | TT  | b’’’’ |   |    | TT  | b’’’’’ |   |    | TT  |   -   |  - |
|   | BB | b/e | c’’’’ |   | BB | b/e | c’’’’’ |   | BB | b/e |   -   |  - |
|   |    | TT  | d’’’’ |   |    | TT  | d’’’’’ |   |    | TT  |   -   |  - |

#### Notes:

> * for obvious reasons, branches cannot send amounts to themselves (so-called 'self-loops'). Therefore, these cells have been filled with `-`.
> * as in the above table, amounts sent are expressed by means of generic letters, `a`, `b`, `c`, `d`, `a'`, `b'` etc.
> * The direction is important: it must be remembered that in network analysis, by convention, the direction goes from from the rows to the columns. Hence, the flow from X to Y, which we generically defined as `a` in table 1 can now be found as `a` in the second row, third column, under Y; vice versa, the flows from Y to X, 3 can be found as `a''`, `b''`, etc. on row 6, column 4, under X.



3. An important **methodological novelty** of the book is *the introduction of a measure by means of which we express the relative share of each and every node in closing the bank’s exchange cycle*. We can achieve this by calculating the total amount of funds a branch received from all other branches (i.e. `SUM2`), and deduct that from the total amount of funds sent to all other branches (`SUM1`). Note that the latter gives us a (positive or negative) number for any branch in any semester. This number —which is, *by definition*, the inverse of a branch’s exchange position at any semester— functions as the indicator of a branch’s contribution to providing exchange cover on the branch network. Branches with a positive number are ‘givers’, i.e. they enable other branches to accumulate net surpluses. Vice versa, branches with a negative number are 'takers' or, in extreme cases, ‘sinks’, causing other branches to experience a drain on their capital. We call the ranking of every branch at any semester the ‘flow-of-fund index’ (`FoF-index`).

This can be done for all points in time `t1`, `t2`, `t3`, etc. Calculating the `FoF-index` of branch X in a simple 3-branch network (X, Y, Z) at time `t1` can be done as follows:

|       | X                                    | Y                                     | Z                                     |                      |
|-------|--------------------------------------|---------------------------------------|---------------------------------------|----------------------|
| **X** |                                      | X→Y : (bills bought minus bills sold) | X→Z : (bills bought minus bills sold) | **SUM1:(X→Y)+(X→Z)** |
| **Y** | Y→X: (bills bought minus bills sold) |                                       | Y→Z: (bills bought minus bills sold)  |                      |
| **Z** | Z→X: (bills bought minus bills sold) | Z→Y: (bills bought minus bills sold)  |                                       |                      |
|       | **SUM2:(Y→X)+(Z→X)**                 |                                       |                                       |                      |


4. Having calculated the `FoF-index` of *every* branch vis-a-vis the branch network at *all* points in time, we can proceed with a **time series**:

|       | t1                  | t2  | t3  | ... |
|-------|---------------------|-----|-----|-----|
| **X** | (X→Y+X→Z)-(Y→X+Z→X) | ... | ... |     |
| **Y** | (Y→X+Y→Z)-(X→Y+Z→Y) | ... | ... |     |
| **Z** | (Z→X+Z→Y)-(X→Z+Y→Z) | ... | ... |     |

The latter's visualization is graph 1 (below)

### Ethnographic relevance

> * when plotting, in a time series, the differential between a) funds sent from X to Y and b) funds sent from Y to X, we inadvertently *yet consciously* point out the *necessary* existence of a 'negative' `FoF-index` of certain branches versus others (either X or Y) and, by extension, the possibility of a negative `FoF-index` of a certain branch *vis-a-vis* the aggregated branch network. This may seem obvious and, indeed, *it is*: bankers at the time complained relentlessly about certain branches that they considered to be chronic 'withdrawers' of funds. In the vocabulary and thinking of social network analysis (SNA), however, it is not that simple. As the theory stands now, SNA does not easily accept the possibility of 'negative flows' (as, for instance, in the case of a banking customer using an overdraft facility with his local bank). In the book manuscript, I thought it to be important to be true to the contemporary problem awareness, and have attempted to allow the possibility of negative flows in the analysis and visualizations. See graph 1 below.

Graph 1: YSB branches FoF-index - a time series, 1893-1908




<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta http-equiv="Content-Language" content="en">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="viewport" content="width=device-width">
        <meta content="origin-when-cross-origin" name="referrer" />
        
            
                <meta name="content" content="https://plot.ly/~michaelschiltz/13/ysb-branches-centrality-1893-1908/" />
            
                <meta name="name" content="og:url" />
            
        
            
                <meta name="content" content="Michaelschiltz&#39;s interactive graph and data of &quot;YSB branches centrality, 1893-1908&quot; is a scatter chart, showing Y, K, L, NY, LY, SF, HW, S, H, B, HK, T, N, TJ, BZ, P, D, LI, M, LS, A, Z, O, TL, C, CBI, CBD; with semesters in the x-axis and amounts (million JPY) in the y-axis.." />
            
                <meta name="name" content="description" />
            
        
            
                <meta name="content" content="YSB branches centrality, 1893-1908 | scatter chart made by Michaelschiltz | plotly" />
            
                <meta name="name" content="title" />
            
        
            
                <meta name="content" content="https://plot.ly/~michaelschiltz/13/ysb-branches-centrality-1893-1908/" />
            
                <meta name="name" content="url" />
            
        
            
                <meta name="content" content="https://plot.ly/~michaelschiltz/13/ysb-branches-centrality-1893-1908.png" />
            
                <meta name="name" content="twitter:image" />
            
        
            
                <meta name="content" content="https://plot.ly/~michaelschiltz/13/ysb-branches-centrality-1893-1908.png" />
            
                <meta name="name" content="image" />
            
        
            
                <meta name="content" content="website" />
            
                <meta name="name" content="og:type" />
            
        
            
                <meta name="content" content="Michaelschiltz&#39;s interactive graph and data of &quot;YSB branches centrality, 1893-1908&quot; is a scatter chart, showing Y, K, L, NY, LY, SF, HW, S, H, B, HK, T, N, TJ, BZ, P, D, LI, M, LS, A, Z, O, TL, C, CBI, CBD; with semesters in the x-axis and amounts (million JPY) in the y-axis.." />
            
                <meta name="name" content="og:description" />
            
        
            
                <meta name="content" content="@plotlygraphs" />
            
                <meta name="name" content="twitter:site" />
            
        
            
                <meta name="content" content="YSB branches centrality, 1893-1908 | scatter chart made by Michaelschiltz | plotly" />
            
                <meta name="name" content="og:title" />
            
        
            
                <meta name="content" content="photo" />
            
                <meta name="name" content="twitter:card" />
            
        
            
                <meta name="content" content="YSB branches centrality, 1893-1908 | scatter chart made by Michaelschiltz | plotly" />
            
                <meta name="name" content="twitter:title" />
            
        
            
                <meta name="content" content="https://plot.ly/~michaelschiltz/13/ysb-branches-centrality-1893-1908/" />
            
                <meta name="name" content="twitter:url" />
            
        
            
                <meta name="content" content="Michaelschiltz&#39;s interactive graph and data of &quot;YSB branches centrality, 1893-1908&quot; is a scatter chart, showing Y, K, L, NY, LY, SF, HW, S, H, B, HK, T, N, TJ, BZ, P, D, LI, M, LS, A, Z, O, TL, C, CBI, CBD; with semesters in the x-axis and amounts (million JPY) in the y-axis.." />
            
                <meta name="name" content="twitter:description" />
            
        

        <title>YSB branches centrality, 1893-1908 | scatter chart made by Michaelschiltz | plotly</title>
        
        <link href="/favicon.ico?v=2" rel="shortcut icon" />
        <meta name="google-site-verification" content="RQedJu9gg9jKmoferbui7dZALhOVogbjQLcq-ZFaYeA" />
        <meta name="p:domain_verify" content="01cb6adff6e96135d480e6d973608d44" />


        <link type="text/css" rel="stylesheet" href="//plot.ly/static/webapp/styles/base.7f33cff6e322.css"/>
        <link type="text/css" rel="stylesheet" href="//plot.ly/static/webapp/fonts/unified/styles.fb13892b003a.css"/>
        <link type="text/css" rel="stylesheet" href="//plot.ly/static/webapp/fonts/new-plots/styles.0ed37bf23409.css"/>
        <link type="text/css" rel="stylesheet" href="//plot.ly/static/webapp/scripts/handsontable.full.min.773580454441.css"/>
        <link type="text/css" rel="stylesheet" href="//plot.ly/static/css/jsoneditor.3e3e07966cea.css"/>


        <script type="text/javascript">
            window.ENV = {"DOMAIN_WEBAPP": "plot.ly", "SOCIALAUTH_ENABLED": true, "STRIPE_PUBLISHABLE_KEY": "pk_live_3uNuhrcWfjyK8n3DY3qDnh9W", "REGEXPS": {"USERNAME": "^[.a-zA-Z0-9_-]+$", "IDLOCAL_SRC": "^(?:[0-9]|[1-9]\\d+)$", "COLLABORATOR_KEY": "^[A-Za-z0-9]+$", "FID_SRC": "^([.a-zA-Z0-9_-]+):((?:[0-9]|[1-9]\\d+))$", "IDLOCAL": "^(?:-[1-2]|[0-9]|[1-9]\\d+)$", "SRC": "^((?:[.a-zA-Z0-9_-]+):(?:(?:[0-9]|[1-9]\\d+))):((?:|(?:-|-(?:[A-Za-z0-9]+|[A-Za-z0-9]+(?:,[A-Za-z0-9]+)+))|(?:[A-Za-z0-9]+(?:,[A-Za-z0-9]+)+)|(?:[A-Za-z0-9]+)))((?:\\?(?:[A-Za-z0-9]+)=(?:.*)|\\?names|\\?row=(?:(?:[0-9]|[1-9]\\d+))|\\?rows=(?:(?:[0-9]|[1-9]\\d+))?-(?:(?:[0-9]|[1-9]\\d+))?))?(\\*)?$", "SRC_QUERY_ROW": "^\\?row=((?:[0-9]|[1-9]\\d+))$", "SRC_QUERY_NAMES": "^\\?names$", "SHARE_URL": "^/~(?P<username>[.a-zA-Z0-9_-]+)/(?P<idlocal>\\d+)$", "SRC_QUERY_GROUPBY": "^\\?([A-Za-z0-9]+)=(.*)$", "SRC_QUERY": "^(?:\\?(?:[A-Za-z0-9]+)=(?:.*)|\\?names|\\?row=(?:(?:[0-9]|[1-9]\\d+))|\\?rows=(?:(?:[0-9]|[1-9]\\d+))?-(?:(?:[0-9]|[1-9]\\d+))?)$", "SRC_QUERY_ROWS": "^\\?rows=((?:[0-9]|[1-9]\\d+))?-((?:[0-9]|[1-9]\\d+))?$", "COL_REF_EXCLUDE": "^(?:-|-([A-Za-z0-9]+|[A-Za-z0-9]+(?:,[A-Za-z0-9]+)+))$", "COL_REF_SINGLE": "^([A-Za-z0-9]+)$", "FID": "^([.a-zA-Z0-9_-]+):((?:-[1-2]|[0-9]|[1-9]\\d+))$", "COL_REF": "^(?:|(?:-|-(?:[A-Za-z0-9]+|[A-Za-z0-9]+(?:,[A-Za-z0-9]+)+))|(?:[A-Za-z0-9]+(?:,[A-Za-z0-9]+)+)|(?:[A-Za-z0-9]+))$", "COL_REF_INCLUDE": "^([A-Za-z0-9]+(?:,[A-Za-z0-9]+)+)$", "COL_REF_ALL": "^$", "ROW": "^(?:[0-9]|[1-9]\\d+)$", "UID": "^[A-Za-z0-9]+$"}, "SOCIALFEEDBACK_ENABLED": true, "MARKETING_PAGES_ENABLED": true, "AUTH_LDAP_ENABLED": false, "CSRF_COOKIE_NAME": "plotly_csrf_pr", "DOMAIN_DASH_MANAGER": null, "DASH_ENABLED": false, "MAPBOX_DEFAULT_ACCESS_TOKEN": "pk.eyJ1IjoiY2hyaWRkeXAiLCJhIjoiY2lxMnVvdm5iMDA4dnhsbTQ5aHJzcGs0MyJ9.X9o_rzNLNesDxdra4neC_A", "BUCKETEER_ENABLED": true, "AUTH_SAML_URL": null, "STATIC_URL": "//plot.ly/static/", "MIXPANEL_KEY": "ad6df61d0b9400400b240631576c24d4", "SHOW_ALL_GRAPHS_ON_FEED": false, "GOOGLEANALYTICS_ENABLED": true, "STRIPE_ENABLED": true, "GOOGLEDRIVE_CLIENT_ID": "945982715719-kj3ie7qge4ivf1d06fs0ibdn5ss1h8u8.apps.googleusercontent.com", "SOCIALSHARING_ENABLED": true, "DISABLE_SIGNUP": false, "PLOTLY_ONPREM_VERSION": "", "PLOTLY_DASHBOARDSLY_DEFAULT_BANNER_LINKS": "[]", "CUSTOM_CLASSIFICATIONS": [], "FACEBOOK_PAGE_APP_ID": "295021257505692", "FEATURE_SETS": {"professional_2016_10": {"api_user_type": {"text": null, "value": "paid-personal"}, "embedded_chart_views_per_chart": {"text": "Unlimited chart views per chart", "value": -1}, "current_stripe_plan_id_annually": {"text": null, "value": "33_usd_per_month_billed_annually"}, "rank": {"text": null, "value": 5}, "collaborator_limit": {"text": "Add unlimited collaborators.", "value": -1}, "id": {"text": "Professional Plan - Includes all Community Features", "value": "professional_2016_10"}, "help_support": {"text": "Plotly team member support", "value": true}, "fit_analyses": {"text": "All curve fitting types are available", "value": -1}, "dashboard_limit": {"text": "Create 5 dashboards", "value": 5}, "workspace_plotly_options": {"text": null, "value": {}}, "authentication": {"text": null, "value": "basic"}, "workspace_allowed_font_families": {"text": "All font families in the Plot editor including \"Courier New\" and \"Raleway\"", "value": -1}, "file_export_types": {"text": "Vector (SVG, PDF, EPS) export for your own charts", "value": ["png", "jpeg", "svg", "pdf", "eps", "webp"]}, "current_stripe_student_coupon_id_annually": {"text": null, "value": ""}, "allowed_to_create_plot": {"text": null, "value": true}, "current_stripe_plan_id_monthly": {"text": null, "value": "89_usd_per_month_billed_monthly"}, "api_calls_per_day": {"text": "Unlimited API calls per day", "value": -1}, "is_active": {"text": null, "value": true}, "workspace_analyses": {"text": "access to all advanced analysis features", "value": -1}, "upload_size_limit": {"text": "5 MB file size upload limit", "value": 5000000}, "current_stripe_plan_amount_annually": {"text": "$33 USD", "value": 33}, "current_stripe_plan_amount_monthly": {"text": "$89 USD", "value": 89}, "alpha_workspace_access": {"text": null, "value": true}, "workspace_allowed_colors": {"text": "Custom color with access to HEX/RGBA color picker", "value": -1}, "custom_defaults": {"text": null, "value": false}, "allowed_to_proxy_plot": {"text": null, "value": true}, "file_upload_types": {"text": "HDF5, mdb, SPSS and MS Access file upload", "value": ["xls", "xlsx", "xml", "csv", "zip", "zipx", "tar", "gz", "gzip", "bz2", "cab", "mdb", "res", "accdb", "sav", "zsav", "h5", "hdf5", "hdf"]}, "stream_token_limit": {"text": "Unlimited streaming tokens", "value": -1}, "file_limits": {"text": "Unlimited Private Files", "value": {"dash_app": {"total": -1, "private": -1}, "plot": {"total": 2500, "private": -1}, "jupyter_notebook": {"total": -1, "private": -1}, "shapefile": {"total": -1, "private": -1}, "external_image": {"total": -1, "private": -1}, "fold": {"total": -1, "private": -1}, "grid": {"total": -1, "private": -1}, "dashboard": {"total": -1, "private": -1}, "spectacle_presentation": {"total": -1, "private": -1}}}}, "professional_plus": {"api_user_type": {"text": null, "value": "paid-professional"}, "embedded_chart_views_per_chart": {"text": "Unlimited embedded chart views per chart", "value": -1}, "current_stripe_plan_id_annually": {"text": null, "value": "45_usd_per_month_billed_annually"}, "rank": {"text": null, "value": 6}, "collaborator_limit": {"text": "Add unlimited collaborators.", "value": -1}, "id": {"text": "Professional Plus Plan - Includes all Professional Features", "value": "professional_plus"}, "help_support": {"text": "Plotly team member support", "value": true}, "fit_analyses": {"text": "All curve fitting types are available", "value": -1}, "dashboard_limit": {"text": "Create unlimited dashboards", "value": -1}, "workspace_plotly_options": {"text": null, "value": {}}, "authentication": {"text": null, "value": "basic"}, "workspace_allowed_font_families": {"text": "All font families in the Plot editor including \"Courier New\" and \"Raleway\"", "value": -1}, "file_export_types": {"text": "Vector (SVG, PDF, EPS) export for your own charts", "value": ["png", "jpeg", "svg", "pdf", "eps", "webp"]}, "current_stripe_student_coupon_id_annually": {"text": "Student discount applies!", "value": "13_usd_off_per_month_recurring"}, "allowed_to_create_plot": {"text": null, "value": true}, "current_stripe_plan_id_monthly": {"text": null, "value": "55_usd_per_month_billed_monthly"}, "api_calls_per_day": {"text": "Unlimited API calls per day", "value": -1}, "is_active": {"text": null, "value": false}, "workspace_analyses": {"text": "access to all advanced analysis features", "value": -1}, "upload_size_limit": {"text": "5 MB file size upload limit", "value": 5000000}, "current_stripe_plan_amount_annually": {"text": "$45 USD", "value": 45}, "current_stripe_plan_amount_monthly": {"text": "$55 USD", "value": 55}, "alpha_workspace_access": {"text": null, "value": true}, "workspace_allowed_colors": {"text": "Custom color with access to HEX/RGBA color picker", "value": -1}, "custom_defaults": {"text": "Save custom default fonts and colors", "value": true}, "allowed_to_proxy_plot": {"text": null, "value": true}, "file_upload_types": {"text": "HDF5, mdb, SAS, SPSS and m file upload", "value": ["xls", "xlsx", "xml", "csv", "zip", "zipx", "tar", "gz", "gzip", "bz2", "cab", "sas7bdat", "mdb", "res", "accdb", "sav", "zsav", "m", "mat", "h5", "hdf5", "hdf"]}, "stream_token_limit": {"text": "Unlimited streaming tokens", "value": -1}, "file_limits": {"text": "Unlimited Private Files", "value": {"dash_app": {"total": -1, "private": -1}, "plot": {"total": -1, "private": -1}, "jupyter_notebook": {"total": -1, "private": -1}, "shapefile": {"total": -1, "private": -1}, "external_image": {"total": -1, "private": -1}, "fold": {"total": -1, "private": -1}, "grid": {"total": -1, "private": -1}, "dashboard": {"total": -1, "private": -1}, "spectacle_presentation": {"total": -1, "private": -1}}}}, "community": {"api_user_type": {"text": null, "value": "free"}, "embedded_chart_views_per_chart": {"text": "500 embedded chart views per chart", "value": "500/day"}, "current_stripe_plan_id_annually": {"text": null, "value": "0_usd_per_month_billed_annually"}, "rank": {"text": null, "value": 1}, "collaborator_limit": {"text": "Add upto 10 collaborators per file.", "value": 10}, "id": {"text": "Community Plan", "value": "community"}, "help_support": {"text": "Help center support", "value": false}, "fit_analyses": {"text": "Linear and Quadratic curve fitting", "value": ["Linear", "Quadratic"]}, "dashboard_limit": {"text": "Create 1 dashboard", "value": 1}, "workspace_plotly_options": {"text": null, "value": {"modeBarButtonsToRemove": ["toImage"]}}, "authentication": {"text": null, "value": "basic"}, "workspace_allowed_font_families": {"text": "Open Sans, Arial and Balto font families", "value": ["Open Sans", "Arial", "Balto"]}, "file_export_types": {"text": "PNG & JPEG export for your own charts", "value": ["png", "jpeg"]}, "current_stripe_student_coupon_id_annually": {"text": null, "value": ""}, "allowed_to_create_plot": {"text": null, "value": true}, "current_stripe_plan_id_monthly": {"text": null, "value": "0_usd_per_month_billed_monthly"}, "api_calls_per_day": {"text": "100 API calls per day", "value": 100}, "is_active": {"text": null, "value": true}, "workspace_analyses": {"text": "access to basic analysis features and stats", "value": -1}, "upload_size_limit": {"text": "500 kb file size upload limit", "value": 500000}, "current_stripe_plan_amount_annually": {"text": "$0 USD", "value": 0}, "current_stripe_plan_amount_monthly": {"text": "$0 USD", "value": 0}, "alpha_workspace_access": {"text": null, "value": false}, "workspace_allowed_colors": {"text": "Default Plotly.js colors including muted blue and safty orange", "value": ["#1f77b4", "#ff7f0e", "#2ca02c", "#d62728", "#9467bd", "#8c564b", "#e377c2", "#7f7f7f", "#bcbd22", "#17becf", "#444444", "#ffffff"]}, "custom_defaults": {"text": null, "value": false}, "allowed_to_proxy_plot": {"text": null, "value": false}, "file_upload_types": {"text": "Excel and CSV file upload", "value": ["xls", "xlsx", "csv"]}, "stream_token_limit": {"text": "1 streaming token", "value": 1}, "file_limits": {"text": "Create and share public charts.", "value": {"dash_app": {"total": -1, "private": 0}, "plot": {"total": 25, "private": 0}, "jupyter_notebook": {"total": -1, "private": 0}, "shapefile": {"total": -1, "private": 0}, "external_image": {"total": -1, "private": 0}, "fold": {"total": 0, "private": 0}, "grid": {"total": -1, "private": -1}, "dashboard": {"total": -1, "private": 0}, "spectacle_presentation": {"total": -1, "private": 0}}}}, "enterprise_cloud_2016_08": {"api_user_type": {"text": null, "value": "paid-professional"}, "embedded_chart_views_per_chart": {"text": "Unlimited embedded chart views per chart", "value": -1}, "current_stripe_plan_id_annually": {"text": null, "value": "79_usd_per_month_billed_annually"}, "rank": {"text": null, "value": 7}, "collaborator_limit": {"text": "Add unlimited collaborators.", "value": -1}, "id": {"text": "Enterprise Cloud Plan - Includes all Professional Features", "value": "enterprise_cloud_2016_08"}, "help_support": {"text": "Plotly team member support", "value": true}, "fit_analyses": {"text": "All curve fitting types are available", "value": -1}, "dashboard_limit": {"text": "Create unlimited dashboards", "value": -1}, "workspace_plotly_options": {"text": null, "value": {}}, "authentication": {"text": null, "value": "basic"}, "workspace_allowed_font_families": {"text": "All font families in the Plot editor including \"Courier New\" and \"Raleway\"", "value": -1}, "file_export_types": {"text": "Vector (SVG, PDF, EPS) export for your own charts", "value": ["png", "jpeg", "svg", "pdf", "eps", "webp"]}, "current_stripe_student_coupon_id_annually": {"text": "", "value": null}, "allowed_to_create_plot": {"text": null, "value": true}, "current_stripe_plan_id_monthly": {"text": null, "value": "119_usd_per_month_billed_monthly"}, "api_calls_per_day": {"text": "Unlimited API calls per day", "value": -1}, "is_active": {"text": null, "value": true}, "workspace_analyses": {"text": "access to all advanced analysis features", "value": -1}, "upload_size_limit": {"text": "5 MB file size upload limit", "value": 5000000}, "current_stripe_plan_amount_annually": {"text": "$79 USD", "value": 79}, "current_stripe_plan_amount_monthly": {"text": "$119 USD", "value": 119}, "alpha_workspace_access": {"text": null, "value": true}, "workspace_allowed_colors": {"text": "Custom color with access to HEX/RGBA color picker", "value": -1}, "custom_defaults": {"text": "Save custom default fonts and colors", "value": true}, "allowed_to_proxy_plot": {"text": null, "value": true}, "file_upload_types": {"text": "SAS (.sas7bdat) and MATLAB (.mat) files", "value": ["xls", "xlsx", "xml", "csv", "zip", "zipx", "tar", "gz", "gzip", "bz2", "cab", "sas7bdat", "mdb", "res", "accdb", "sav", "zsav", "m", "mat", "h5", "hdf5", "hdf"]}, "stream_token_limit": {"text": "Unlimited streaming tokens", "value": -1}, "file_limits": {"text": "Unlimited Private Files", "value": {"dash_app": {"total": -1, "private": -1}, "plot": {"total": -1, "private": -1}, "jupyter_notebook": {"total": -1, "private": -1}, "shapefile": {"total": -1, "private": -1}, "external_image": {"total": -1, "private": -1}, "fold": {"total": -1, "private": -1}, "grid": {"total": -1, "private": -1}, "dashboard": {"total": -1, "private": -1}, "spectacle_presentation": {"total": -1, "private": -1}}}}, "on_premise_chart_creator": {"api_user_type": {"text": null, "value": "paid-professional"}, "embedded_chart_views_per_chart": {"text": "Unlimited embedded chart views per chart", "value": -1}, "current_stripe_plan_id_annually": {"text": null, "value": ""}, "rank": {"text": null, "value": 9}, "collaborator_limit": {"text": "Add unlimited collaborators.", "value": -1}, "id": {"text": "On-Premise chart creator", "value": "on_premise_chart_creator"}, "help_support": {"text": "Plotly team member support", "value": true}, "fit_analyses": {"text": "All curve fitting types are available", "value": -1}, "dashboard_limit": {"text": "Create unlimited dashboards", "value": -1}, "workspace_plotly_options": {"text": null, "value": {}}, "authentication": {"text": "LDAP, SAML, & Active Directory integration", "value": ["basic", "LDAP", "SAML"]}, "workspace_allowed_font_families": {"text": "All font families in the Plot editor including \"Courier New\" and \"Raleway\"", "value": -1}, "file_export_types": {"text": "Vector (SVG, PDF, EPS) export for your own charts", "value": ["png", "jpeg", "svg", "pdf", "eps", "webp"]}, "current_stripe_student_coupon_id_annually": {"text": "", "value": ""}, "allowed_to_create_plot": {"text": null, "value": true}, "current_stripe_plan_id_monthly": {"text": null, "value": ""}, "api_calls_per_day": {"text": "Unlimited API calls per day", "value": -1}, "is_active": {"text": null, "value": true}, "workspace_analyses": {"text": "access to all advanced analysis features", "value": -1}, "upload_size_limit": {"text": "5 MB file size upload limit", "value": 5000000}, "current_stripe_plan_amount_annually": {"text": "$9,550 USD", "value": 9550}, "current_stripe_plan_amount_monthly": {"text": null, "value": null}, "alpha_workspace_access": {"text": null, "value": true}, "workspace_allowed_colors": {"text": "Custom color with access to HEX/RGBA color picker", "value": -1}, "custom_defaults": {"text": "Save custom default fonts and colors", "value": true}, "allowed_to_proxy_plot": {"text": null, "value": true}, "file_upload_types": {"text": "HDF5, mdb, SAS, SPSS and m file upload", "value": ["xls", "xlsx", "xml", "csv", "zip", "zipx", "tar", "gz", "gzip", "bz2", "cab", "sas7bdat", "mdb", "res", "accdb", "sav", "zsav", "m", "mat", "h5", "hdf5", "hdf"]}, "stream_token_limit": {"text": "Unlimited streaming tokens", "value": -1}, "file_limits": {"text": "Unlimited Private Files", "value": {"dash_app": {"total": -1, "private": -1}, "plot": {"total": -1, "private": -1}, "jupyter_notebook": {"total": -1, "private": -1}, "shapefile": {"total": -1, "private": -1}, "external_image": {"total": -1, "private": -1}, "fold": {"total": -1, "private": -1}, "grid": {"total": -1, "private": -1}, "dashboard": {"total": -1, "private": -1}, "spectacle_presentation": {"total": -1, "private": -1}}}}, "professional_2016_08": {"api_user_type": {"text": null, "value": "paid-personal"}, "embedded_chart_views_per_chart": {"text": "Unlimited chart views per chart", "value": -1}, "current_stripe_plan_id_annually": {"text": null, "value": "33_usd_per_month_billed_annually"}, "rank": {"text": null, "value": 4}, "collaborator_limit": {"text": "Add unlimited collaborators.", "value": -1}, "id": {"text": "Professional Plan - Includes all Community Features", "value": "professional_2016_08"}, "help_support": {"text": "Plotly team member support", "value": true}, "fit_analyses": {"text": "All curve fitting types are available", "value": -1}, "dashboard_limit": {"text": "Create 5 dashboards", "value": 5}, "workspace_plotly_options": {"text": null, "value": {}}, "authentication": {"text": null, "value": "basic"}, "workspace_allowed_font_families": {"text": "All font families in the Plot editor including \"Courier New\" and \"Raleway\"", "value": -1}, "file_export_types": {"text": "Vector (SVG, PDF, EPS) export for your own charts", "value": ["png", "jpeg", "svg", "pdf", "eps", "webp"]}, "current_stripe_student_coupon_id_annually": {"text": null, "value": ""}, "allowed_to_create_plot": {"text": null, "value": true}, "current_stripe_plan_id_monthly": {"text": null, "value": "59_usd_per_month_billed_monthly"}, "api_calls_per_day": {"text": "Unlimited API calls per day", "value": -1}, "is_active": {"text": null, "value": false}, "workspace_analyses": {"text": "access to all advanced analysis features", "value": -1}, "upload_size_limit": {"text": "5 MB file size upload limit", "value": 5000000}, "current_stripe_plan_amount_annually": {"text": "$33 USD", "value": 33}, "current_stripe_plan_amount_monthly": {"text": "$59 USD", "value": 59}, "alpha_workspace_access": {"text": null, "value": true}, "workspace_allowed_colors": {"text": "Custom color with access to HEX/RGBA color picker", "value": -1}, "custom_defaults": {"text": null, "value": false}, "allowed_to_proxy_plot": {"text": null, "value": true}, "file_upload_types": {"text": "HDF5, mdb, SPSS and MS Access file upload", "value": ["xls", "xlsx", "xml", "csv", "zip", "zipx", "tar", "gz", "gzip", "bz2", "cab", "mdb", "res", "accdb", "sav", "zsav", "h5", "hdf5", "hdf"]}, "stream_token_limit": {"text": "Unlimited streaming tokens", "value": -1}, "file_limits": {"text": "Unlimited Private Files", "value": {"dash_app": {"total": -1, "private": -1}, "plot": {"total": 2500, "private": -1}, "jupyter_notebook": {"total": -1, "private": -1}, "shapefile": {"total": -1, "private": -1}, "external_image": {"total": -1, "private": -1}, "fold": {"total": -1, "private": -1}, "grid": {"total": -1, "private": -1}, "dashboard": {"total": -1, "private": -1}, "spectacle_presentation": {"total": -1, "private": -1}}}}, "student": {"api_user_type": {"text": null, "value": "paid-personal"}, "embedded_chart_views_per_chart": {"text": "Unlimited chart views per chart", "value": -1}, "current_stripe_plan_id_annually": {"text": null, "value": "59_usd_per_annum_billed_annually"}, "rank": {"text": null, "value": 2}, "collaborator_limit": {"text": "Add unlimited collaborators.", "value": -1}, "id": {"text": "Student Plan - Includes all Professional Features", "value": "student"}, "help_support": {"text": "Plotly team member support", "value": true}, "fit_analyses": {"text": "All curve fitting types are available", "value": -1}, "dashboard_limit": {"text": "Create 5 dashboards", "value": 5}, "workspace_plotly_options": {"text": null, "value": {}}, "authentication": {"text": null, "value": "basic"}, "workspace_allowed_font_families": {"text": "All font families in the Plot editor including \"Courier New\" and \"Raleway\"", "value": -1}, "file_export_types": {"text": "Vector (SVG, PDF, EPS) export for your own charts", "value": ["png", "jpeg", "svg", "pdf", "eps", "webp"]}, "current_stripe_student_coupon_id_annually": {"text": null, "value": ""}, "allowed_to_create_plot": {"text": null, "value": true}, "current_stripe_plan_id_monthly": {"text": null, "value": ""}, "api_calls_per_day": {"text": "Unlimited API calls per day", "value": -1}, "is_active": {"text": null, "value": true}, "workspace_analyses": {"text": "access to all advanced analysis features", "value": -1}, "upload_size_limit": {"text": "5 MB file size upload limit", "value": 5000000}, "current_stripe_plan_amount_annually": {"text": "$59 USD", "value": 59}, "current_stripe_plan_amount_monthly": {"text": "", "value": ""}, "alpha_workspace_access": {"text": null, "value": true}, "workspace_allowed_colors": {"text": "Custom color with access to HEX/RGBA color picker", "value": -1}, "custom_defaults": {"text": null, "value": false}, "allowed_to_proxy_plot": {"text": null, "value": true}, "file_upload_types": {"text": "HDF5, mdb, SPSS and MS Access file upload", "value": ["xls", "xlsx", "xml", "csv", "zip", "zipx", "tar", "gz", "gzip", "bz2", "cab", "mdb", "res", "accdb", "sav", "zsav", "h5", "hdf5", "hdf"]}, "stream_token_limit": {"text": "Unlimited streaming tokens", "value": -1}, "file_limits": {"text": "Unlimited Private Files", "value": {"dash_app": {"total": -1, "private": -1}, "plot": {"total": 2500, "private": -1}, "jupyter_notebook": {"total": -1, "private": -1}, "shapefile": {"total": -1, "private": -1}, "external_image": {"total": -1, "private": -1}, "fold": {"total": -1, "private": -1}, "grid": {"total": -1, "private": -1}, "dashboard": {"total": -1, "private": -1}, "spectacle_presentation": {"total": -1, "private": -1}}}}, "on_premise": {"api_user_type": {"text": null, "value": "paid-professional"}, "embedded_chart_views_per_chart": {"text": "Unlimited embedded chart views per chart", "value": -1}, "current_stripe_plan_id_annually": {"text": null, "value": ""}, "rank": {"text": null, "value": 8}, "collaborator_limit": {"text": "Add unlimited collaborators.", "value": -1}, "id": {"text": "On-Premise default plan", "value": "on_premise"}, "help_support": {"text": "Plotly team member support", "value": true}, "fit_analyses": {"text": "All curve fitting types are available", "value": -1}, "dashboard_limit": {"text": "Create unlimited dashboards", "value": -1}, "workspace_plotly_options": {"text": null, "value": {}}, "authentication": {"text": "LDAP, SAML, & Active Directory integration", "value": ["basic", "LDAP", "SAML"]}, "workspace_allowed_font_families": {"text": "All font families in the Plot editor including \"Courier New\" and \"Raleway\"", "value": -1}, "file_export_types": {"text": "Vector (SVG, PDF, EPS) export for your own charts", "value": ["png", "jpeg", "svg", "pdf", "eps", "webp"]}, "current_stripe_student_coupon_id_annually": {"text": "", "value": ""}, "allowed_to_create_plot": {"text": null, "value": false}, "current_stripe_plan_id_monthly": {"text": null, "value": ""}, "api_calls_per_day": {"text": "Unlimited API calls per day", "value": -1}, "is_active": {"text": null, "value": true}, "workspace_analyses": {"text": "access to all advanced analysis features", "value": -1}, "upload_size_limit": {"text": "5 MB file size upload limit", "value": 5000000}, "current_stripe_plan_amount_annually": {"text": "$9,550 USD", "value": 9550}, "current_stripe_plan_amount_monthly": {"text": null, "value": null}, "alpha_workspace_access": {"text": null, "value": true}, "workspace_allowed_colors": {"text": "Custom color with access to HEX/RGBA color picker", "value": -1}, "custom_defaults": {"text": "Save custom default fonts and colors", "value": true}, "allowed_to_proxy_plot": {"text": null, "value": true}, "file_upload_types": {"text": "HDF5, mdb, SAS, SPSS and m file upload", "value": ["xls", "xlsx", "xml", "csv", "zip", "zipx", "tar", "gz", "gzip", "bz2", "cab", "sas7bdat", "mdb", "res", "accdb", "sav", "zsav", "m", "mat", "h5", "hdf5", "hdf"]}, "stream_token_limit": {"text": "Unlimited streaming tokens", "value": -1}, "file_limits": {"text": "Unlimited Private Files", "value": {"dash_app": {"total": -1, "private": -1}, "plot": {"total": -1, "private": -1}, "jupyter_notebook": {"total": -1, "private": -1}, "shapefile": {"total": -1, "private": -1}, "external_image": {"total": -1, "private": -1}, "fold": {"total": -1, "private": -1}, "grid": {"total": -1, "private": -1}, "dashboard": {"total": -1, "private": -1}, "spectacle_presentation": {"total": -1, "private": -1}}}}, "professional": {"api_user_type": {"text": null, "value": "paid-personal"}, "embedded_chart_views_per_chart": {"text": "Unlimited chart views per chart", "value": -1}, "current_stripe_plan_id_annually": {"text": null, "value": "19_usd_per_month_billed_annually"}, "rank": {"text": null, "value": 3}, "collaborator_limit": {"text": "Add unlimited collaborators.", "value": -1}, "id": {"text": "Professional Plan - Includes all Community Features", "value": "professional"}, "help_support": {"text": "Plotly team member support", "value": true}, "fit_analyses": {"text": "All curve fitting types are available", "value": -1}, "dashboard_limit": {"text": "Create 5 dashboards", "value": 5}, "workspace_plotly_options": {"text": null, "value": {}}, "authentication": {"text": null, "value": "basic"}, "workspace_allowed_font_families": {"text": "All font families in the Plot editor including \"Courier New\" and \"Raleway\"", "value": -1}, "file_export_types": {"text": "Vector (SVG, PDF, EPS) export for your own charts", "value": ["png", "jpeg", "svg", "pdf", "eps", "webp"]}, "current_stripe_student_coupon_id_annually": {"text": null, "value": ""}, "allowed_to_create_plot": {"text": null, "value": true}, "current_stripe_plan_id_monthly": {"text": null, "value": "25_usd_per_month_billed_monthly"}, "api_calls_per_day": {"text": "Unlimited API calls per day", "value": -1}, "is_active": {"text": null, "value": false}, "workspace_analyses": {"text": "access to all advanced analysis features", "value": -1}, "upload_size_limit": {"text": "5 MB file size upload limit", "value": 5000000}, "current_stripe_plan_amount_annually": {"text": "$19 USD", "value": 19}, "current_stripe_plan_amount_monthly": {"text": "$25 USD", "value": 25}, "alpha_workspace_access": {"text": null, "value": true}, "workspace_allowed_colors": {"text": "Custom color with access to HEX/RGBA color picker", "value": -1}, "custom_defaults": {"text": null, "value": false}, "allowed_to_proxy_plot": {"text": null, "value": true}, "file_upload_types": {"text": "HDF5, mdb, SAS, SPSS and m file upload", "value": ["xls", "xlsx", "xml", "csv", "zip", "zipx", "tar", "gz", "gzip", "bz2", "cab", "sas7bdat", "mdb", "res", "accdb", "sav", "zsav", "m", "mat", "h5", "hdf5", "hdf"]}, "stream_token_limit": {"text": "Unlimited streaming tokens", "value": -1}, "file_limits": {"text": "Unlimited Private Files", "value": {"dash_app": {"total": -1, "private": -1}, "plot": {"total": 2500, "private": -1}, "jupyter_notebook": {"total": -1, "private": -1}, "shapefile": {"total": -1, "private": -1}, "external_image": {"total": -1, "private": -1}, "fold": {"total": -1, "private": -1}, "grid": {"total": -1, "private": -1}, "dashboard": {"total": -1, "private": -1}, "spectacle_presentation": {"total": -1, "private": -1}}}}}, "GOOGLEANALYTICS_ACCOUNT": "UA-39373211-1", "SHAREPLOT_META_TAB_ENABLED": false, "GOOGLEDRIVE_ENABLED": true, "WEBSOCKET_PORT": 443, "SENTRY_ENABLED": true, "MIXPANEL_ENABLED": true, "WEBSOCKET_HOST": "websocket.plot.ly", "API_URL": "https://api.plot.ly", "SUBSCRIPTIONS_ENABLED": true, "PLOTLY_FEED_MIN_PLOT_QUALITY": 6, "DOMAIN_IS_PLOTLY": true, "DEBUG_MODE": false, "RAVEN_CONFIG_WEBAPP": "https://8ad265ab1e524522a93b9678c9861392@app.getsentry.com/61730", "CUSTOM_STYLE": "", "HOMEPAGE": "https://plot.ly/feed/", "USE_CONTENT_DELIVERY_NETWORKS": true, "DOMAIN_STREAM": "stream.plot.ly", "BASE_URL": "https://plot.ly", "PLOTLY_DASHBOARDSLY_DEFAULT_BANNER_TITLE": "", "GOOGLEDRIVE_DEVELOPER_KEY": "", "PLOTLY_ONPREM_PRIVATE_MODE_ENABLED": false, "DOMAIN_API": "api.plot.ly", "USER_PASSWORD_MIN_LENGTH": 8, "PLOTLY_OAUTH2_CLIENT_ID": "isFcew9naom2f1khSiMeAtzuOvHXHuLwhPsM7oPt", "PLOTLY_LDAP_GROUP_SHARING": false, "ANON_TIMEOUT": 86400, "USE_LOCAL_DOCS": false, "USER_PASSWORD_MAX_LENGTH": 128, "PLOTLY_MAPBOX_ATLAS_DEFAULT_STYLE_URL": "", "DASH_MANAGER_URL": "https://plot.ly/dash", "PLOTLY_ENV": "prod"};
        </script>

        
        <script type="text/javascript">
          (function(f,b){if(!b.__SV){var a,e,i,g;window.mixpanel=b;b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.track_charge people.clear_charges people.delete_user".split(" ");
          for(g=0;g<i.length;g++)f(c,i[g]);b._i.push([a,e,d])};b.__SV=1.2;a=f.createElement("script");a.type="text/javascript";a.async=!0;a.src="//cdn.mxpnl.com/libs/mixpanel-2.2.min.js";e=f.getElementsByTagName("script")[0];e.parentNode.insertBefore(a,e)}})(document,window.mixpanel||[]);
          mixpanel.init(window.ENV.MIXPANEL_KEY);
        </script>
        

    </head>
    <body>
        <div id="app-root">
            <div class="loading-bars__wrapper">
                <div class="loading-bars" style="border-radius: 4px">
                    <img className="loading-bars__img" style="border-radius: 4px"
                        src="/static/webapp/images/plotly-logo-loop.gif" />
                </div>
                <div class="loading-bars__text">
                    Loading...
                </div>
            </div>
        </div>

        

        
        <script id="logged-in-user" type="application/json">{"profile_url": "https:\/\/plot.ly\/~michaelschiltz", "avatar_url": "https:\/\/storage.googleapis.com\/plotly-prod-profiles\/1418404201.jpg", "background_url": "https:\/\/storage.googleapis.com\/plotly-prod-profiles\/bg-6.jpg", "bio": "", "nickname": "", "website": "", "stream_tokens": [], "feature_set_id": "community", "csrf_token": null, "date_joined": "2013-06-23 08:42:41", "mapbox_access_tokens": [], "has_password": true, "username": "michaelschiltz", "email": "michael.schiltz@gmail.com", "social_auth_provider": "", "num_followers": 0, "num_following": 0, "stripe_customer_id": null, "is_active": true, "is_admin": false, "teams": []}</script>

        
        <script type="text/javascript" src="https://js.stripe.com/v2/"></script>
        <script type="text/javascript">
            Stripe.setPublishableKey(window.ENV.STRIPE_PUBLISHABLE_KEY);
        </script>
        

        

<script type="text/javascript">
    window.MathJax = {
        root: '/static/js/plugins/mathjax',
        config: '//plot.ly/static/js/plugins/mathjax/config/TeX-AMS-MML_SVG.2b1f5dd083b6.js',
        extensions: ['Safe.js']
    };
</script>
<script type="text/javascript" src="//plot.ly/static/js/plugins/mathjax/MathJax.49565b9ce89c.js"></script>

        <script type="text/javascript" src="//plot.ly/static/plotlyjs/build/plotlyjs-bundle.a76e4a0a44fd.js"></script>
        <script type="text/javascript" src="//plot.ly/static/streaming/build/streamhead-bundle.c380a9b4fcba.js"></script>
        <script type="text/javascript" src="//plot.ly/static/webapp/scripts/xlsx.min.ede8735afb78.js"></script>
        <script type="text/javascript" src="//plot.ly/static/webapp/scripts/handsontable.full.min.922c4649f668.js"></script>
        <script type="text/javascript" src="//plot.ly/static/webapp/scripts/app.48adce3fcec1.js"></script>
        <img src="/csrf_pixel" style="display:none;" alt="csrf pixel" />

        
        

        
        <script src="https://cdn.ravenjs.com/3.3.0/raven.min.js"></script>
        

        <script type="text/javascript">
          if(!window.Raven) {
            // Create a fake Raven object that just does nothing
            // See http://raven-js.readthedocs.org/en/latest/usage/index.html
            window.Raven = {
               context: function(meta, wrapped_fun){
                wrapped_fun();
              },
              config: function(){
                return {install: function(){}};
              },
              captureException: function(event){},
              setUser: function(user){}
            };
          }
          window.Raven.config(window.ENV.RAVEN_CONFIG_WEBAPP).install();
          PlotlyEnvironment.setRaven(window.Raven);
        </script>
        <script type="text/javascript">
          (function() {
            var mixpanelEnabled = false;
          
            var mixpanelEnabled = true;
          

            /*
             * mock mixpanel. This stubs out mixpanel in environments
             * where it is not loaded while also allowing track testing
             * in acceptance tests.
             */

             var isArray = Array.isArray;
             var isObject = function (val) {
                 return val !== null &&
                     typeof val === 'object' &&
                     isArray(val) === false &&
                     Object.prototype.toString.call(val) === '[object Object]';
             };

            function mockFn() {
                function fn() {
                    var args = [].slice.call(arguments);
                    fn.mock.calls.push(args);
                }
                fn.mock = {
                    calls: []
                };
                return fn;
            }

            function MockMixpanel() {
                this.track = mockFn();
                this.identify = mockFn();
                this.alias = mockFn();
                this.get_distinct_id = mockFn();
                this.register_once = mockFn();
                this.people = {
                    track_charge: mockFn(),
                    set: mockFn()
                };
            }

            MockMixpanel.prototype._mockCompileCalls = function mockCompileCalls(obj) {
                var calls = {};

                Object.keys(obj).forEach(function(key) {
                    if (isObject(obj[key])) {
                        calls[key] = mockCompileCalls(obj[key]);

                    } else if (isObject(obj[key].mock)) {
                        calls[key] = [].slice.call(obj[key].mock.calls);
                    }
                });

                return calls;
            };

            MockMixpanel.prototype._mockClearCalls = function mockClearCalls(obj) {
                Object.keys(obj).forEach(function(key) {
                    if (isObject(obj[key])) {
                        mockClearCalls(obj[key]);

                    } else if (isObject(obj[key].mock)) {
                        obj[key].mock.calls = [];
                    }
                });
            };

            MockMixpanel.prototype.mockClearCalls = function() {
                this._mockClearCalls(this);
            };

            MockMixpanel.prototype.mockCompileCalls = function() {
                return this._mockCompileCalls(this);
            };

            if (!mixpanelEnabled || (typeof window.mixpanel === 'undefined')) {
                window.mixpanel = new MockMixpanel();
            }
          }())

          PlotlyEnvironment.setMixpanel(mixpanel);
        </script>


        
        <!-- google analytics -->
        <script type="text/javascript">
            var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-39373211-1']);
            _gaq.push(['_setSiteSpeedSampleRate', 10]);
            _gaq.push(['_trackPageview']);
            (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();
        </script>
        

        
            
        
    </body>
</html>

![YSB branches exchange position - a time series](/YSB_centrality1.png)


Source: [own data and analysis](https://plot.ly/~michaelschiltz/13/ysb-branches-centrality-1893-1908/)

*Legend*: Y: Yokohama Head Office 横浜本店; K: Kobe 神戸; L: London; NY: New York LY: Lyon; SF: San Francisco; HW: Hawai; S: Shanghai 上海; H: Hankow 漢口; B: Mumbai (Bombay); HK: Hong Kong 香港; T: Tokyo 東京; N: Nagasaki 長崎; TJ: Tianjin 天津; NZ: Niuzhang 牛荘; P: Beijing (Peking) 北京; D: Dairen 大連; LI: Liaoyang 遼陽; M: Mukden 奉天; LS: Lushun 旅順; A: Andong 安東; Z: Yantai (Chefoo) 芝罘; O: Osaka 大阪; TL: Tieling 鐵嶺; C: Changchun 長春; CBI: correspondent banks (international); CBD: correspondent banks (domestic). 


### Rounding

> * importantly, amounts were rounded *to the ones*. This is quite different from earlier analyses, which chose to round to the thousands. In itself, however, it was the only way to come to conclusive findings with respect to the question whether hedging strategies were effectively adopted or not.

### Conversions into Japanese yen

> * Exchange rates were taken from the  ["Historical statistics - Exchange rates" page of the Bank of Japan](http://www.imes.boj.or.jp/hstat/data/ferdd/index.html); this page contains both a data source (in .CSV), and an [explanatory note](http://www.imes.boj.or.jp/hstat/data/ferdd/note_ferdd.html); see [here for English](http://www.imes.boj.or.jp/english/hstat/data/ferdd/note_ferdd.html)
> * I have used the monthly average value as base for calculations (unfortunately, end-of-month rates are not included in the BOJ database)

## B. Interest Bills

A particular point of attention must be reserved for the so-called `interest bills`, or *ritsuki tegata* 利付手形. For a host of reasons, they pose some serious interpretative hurdles for the financial historian. Concretely, these bills were, at least for the period 1898-1908, not included in the Midterm Reports’ flow data, but treated as a particular category under `statement of loans and bills discounted` (*kashikin oyobi tegata waribiki no koto* 貸金及ビ手形割引ノ事). This exclusion from the `statement of the amount of bills sent and received` has caused considerable misunderstandings among students of Yokohama Specie Bank foreign exchange operations. 

> * Notably Taira, who pioneered the network approach to YSB flow-of-funds, surmised that interest bills were listed in both ‘statement of loans and bills discounted’ and the ‘statement on foreign exchange holdings and movements’. Hence, he omitted them from his analysis as it would otherwise amount to double-counting the data. Ishii, on the other hand, has convincingly argued that the interest bill data cannot have been included in the statement on foreign exchange holdings and movements, as Japan’s trade deficit with Great-Britain in this period should in any case have resulted in very large transfers of funds from Great-Britain to Japan (as exports from Great-Britain to Japan would have been financed by bills bought in London and sent to Yokohama and Kobe for collection). Consequently, Taira’s analysis, which seems to show a reverse flow of funds from Japan to Great-Britain, must be mistaken. 
> * Yet another interpretation can be found in Bak (Park). In his view, interest bills functioned as remittances (*sōkin* 送金) of foreign exchange which were sent  by the branch/office in charge of collection (*toritate-ten* 取立店) to the branch/office that had purchased the bill (*kaitori-ten* 買取店). In other words, Bak believes that interest bills were a means of settling (squaring) accounts between branches (in Japanese referred to as remitting (*kaikin* 回金) (as opposed to reimbursing)). In this view, including the interest bills in the flow of funds also amounts to double-counting, yet in a way different from Taira’s interpretation. However, as is clear from e.g. interest bills handled by the New York office, *interest bills were also used for trade transactions*.
> * Based on Nishimura's early discussion (see the description in the book), we suspect that their classification under `statement of loans and bills discounted` hints to their nature as finance bills rather than bills designating an underlying trade transaction (the latter being called 'real bills' at the time).
> * The consequences of such conjecture may be profound. As we point out in the book, it hints to the existence of a late nineteenth century **carry trade**. We possess at least descriptive evidence of the latter:

>> "For bills related to East-Asia, one bookkeeping manual from 1907 provides the following narrative evidence: “The interest rate in London is, on average, between 3 and 4 per cent. [The international exchange banks] there purchase ‘Eastern bills’ [i.e. interest bills] on India, China and Japan. Given that the interest [on the latter] is normally around 6%, and given that they purchase Eastern bills by means of low-interest London funds, they are obviously running a very profitable business.” 

>This was certainly so after the Russo-Japanese War. According to the same source: 

>>“The interest on interest bills to East-Asia is normally 6%, but last year, due to problems in Russo-Japanese relations, the rate was increased to 7%”. In other words, even when estimating the yearly cost of London acceptance credit to be around 5% in the 1900s, arbitraging must have been a lucrative affair. And indeed, the share of interest bills in the total ‘bills sent’ portfolio of YSB London is very high (consistently more than 60% after 1898)." 石川由郎. 1907. 『英国為替銀行ニ関スル復命書』. 三井銀行. P. 67; p. 76.

>> Sources:
>> * Ishii Kanji 石井寛治. 1999. *Kindai nihon kin’yū-shi josetsu* 『近代日本金融史序説』. 東京大学出版会. P. 250-251; 
>> * Ishii Kanji. 1994. “Japanese Foreign Trade and the Yokohama Specie Bank, 1880-1913”, in Olive Checkland, Shizuya Nishimura, and Norio Tamaki (eds.), *Pacific Banking, 1859-1959: East Meets West*. New York: St. Martin’s Press. Pp. 22-23. 
>> * Taira Tomoyuki 平智之. 1984. 「第1次大戦前の国際金本位制下における横浜正金銀行–日銀の兌換制維持政策との関連において-上-.」 『金融経済』, no. 208 (October): p41–81. http://ci.nii.ac.jp/naid/40000792001; 
>> * Taira Tomoyuki 平智之. 1984. 「第1次大戦前の国際金本位制下における横浜正金銀行–日銀の兌換制維持政策との関連において-下-.」 『金融経済』, no. 209 (December): p1–27. http://ci.nii.ac.jp/naid/40000792007. 
>> * Bak Jun Geon 朴埈健. 1992. 「産業資本成立期における横浜正金銀行の資金循環構造–利付為替手形の処理問題を中心として.」 『経済論究』, March, p. 147–162.

Yoshiwara Tatsuno has focused on the fact that interest bills were not only sent from liquid centers to non-liquid regions, but also *among liquid centers*. This is an element that I have left out of the database because these amounts are dwarfed by the former (esp. interest bills sent from London to Japan). He may, however, have a point. At least the *Economist* mentions the role of finance bills arriving from France and NY in the early twentieth century (see the book manuscript). Admittedly, it is not clear whether these finance bills were necessarily interest bills, but our conjecture in the book points to the plausibility hereof.
>> Sources:
>> * 葭原 達之. 1979. 「横浜正金銀行における「連合的営業法」の創設と展開.」 『経営史学』 13 (3):p41–60. http://ci.nii.ac.jp/naid/40000827988; 
>> * 葭原達之, and 記念論文集委員会. 1986. 「横浜正金銀行における「分立的営業法」の成立とその意義.」 In 『工藤良平教授記念経済学論文集』, 197–229. 弘前: 弘前大学.


## C. Other Balance Sheet Data

see [here](https://github.com/michaelschiltz/even-keel/blob/master/2.%20data%20inclusion%20and%20exclusion.md#balance-sheet-data-stock-data)
